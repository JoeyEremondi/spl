%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: thursday.dvi
%%Pages: 7
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Italic Times-Bold Helvetica-Bold
%%+ Helvetica
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips thursday.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2000.09.02:0918
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (thursday.dvi)
@start /Fa 134[33 2[33 37 21 29 29 1[37 37 37 54 21 33
21 21 37 37 21 33 37 33 37 37 8[46 62 1[54 42 37 46 1[46
54 50 62 3[25 3[46 54 50 1[46 7[37 1[37 37 37 2[37 37
3[25 3[25 25 25 35[37 37 2[{TeXBase1Encoding ReEncodeFont}49
74.7198 /Times-Italic rf /Fb 133[33 37 37 54 37 37 21
29 25 1[37 37 37 58 21 37 21 21 37 37 25 33 37 33 37
33 3[25 1[25 3[71 54 1[46 42 50 1[42 54 54 66 46 54 29
25 54 54 42 46 54 50 50 54 6[21 37 37 37 37 37 37 37
37 37 37 21 19 25 19 2[25 25 37[42 2[{TeXBase1Encoding ReEncodeFont}66
74.7198 /Times-Roman rf /Fc 134[42 3[46 28 32 37 46 46
1[46 69 23 2[23 46 42 28 37 1[37 1[42 26[51 18[42 42
42 2[21 46[{TeXBase1Encoding ReEncodeFont}22 83.022 /Times-Bold
rf
%DVIPSBitmapFont: Fd cmmi7 7 1
/Fd 1 63 df<12E012F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0FE0EB03F8EB00FE
EC3F80EC0FE0EC03F8EC00FEED3F80ED0FE0ED03F8ED00FE163E16FEED03F8ED0FE0ED3F
80EDFE00EC03F8EC0FE0EC3F8002FEC7FCEB03F8EB0FE0EB3F8001FEC8FCEA03F8EA0FE0
EA3F8000FEC9FC12F812E027277AA134>62 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmsy7 7 5
/Fe 5 107 df<B712FEA327037A8F34>0 D<1338A50060130C00F8133E00FC137E00FE13
FE383FBBF83807FFC000011300EA007C48B4FC000713C0383FBBF838FE38FE00FC137E00
F8133E0060130C00001300A517197B9A22>3 D<147EEB03FEEB0FE0EB1F00133E5BB35B
A2485AEA07E0EAFF8000FCC7FCB47EEA07E0EA01F06C7EA2137CB37F7FEB0FE0EB03FEEB
007E173B7BAB22>102 D<12FCB47EEA0FE0EA01F06C7E137CB37FA27FEB0FC0EB03FEEB
007EEB03FEEB0FC0EB1F00133EA25BB35B485AEA0FE0EAFF8000FCC7FC173B7BAB22>I<
12E0B3B3B3A5033B78AB14>106 D E
%EndDVIPSBitmapFont
/Ff 133[29 29 1[42 29 32 16 29 19 1[32 32 32 48 13 29
13 13 32 32 16 32 32 29 32 32 3[16 1[16 1[39 2[39 42
36 39 42 45 39 45 42 48 32 2[16 42 45 36 39 42 1[39 39
3[34 1[16 16 4[32 2[32 32 1[16 16 1[16 34 1[19 19 1[39
4[16 33[{TeXBase1Encoding ReEncodeFont}60 58.1154 /Helvetica
rf /Fg 137[32 36 19 32 23 1[36 36 36 1[16 2[16 1[36 19
32 36 32 36 32 97[{TeXBase1Encoding ReEncodeFont}17 58.1154
/Helvetica-Bold rf /Fh 134[50 2[50 55 33 39 44 1[55 50
55 83 28 2[28 55 50 33 44 55 1[55 50 16[61 78 8[61 18[50
50 50 2[25 46[{TeXBase1Encoding ReEncodeFont}26 99.6264
/Times-Bold rf /Fi 105[42 1[37 37 24[37 42 42 60 42 42
23 32 28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37
42 37 3[28 1[28 3[78 2[51 46 55 1[46 60 60 74 2[32 28
60 1[46 1[60 55 55 60 6[23 42 42 42 42 42 42 42 42 42
42 23 21 28 21 2[28 28 28 1[69 33[46 46 2[{
TeXBase1Encoding ReEncodeFont}68 83.022 /Times-Roman
rf /Fj 105[42 28[37 37 55 37 42 23 32 32 42 42 42 42
60 23 37 23 23 42 42 23 37 42 37 42 42 9[69 2[46 42 51
1[51 60 55 3[37 28 2[51 1[60 55 51 51 3[56 11[42 2[21
28 21 2[28 28 37[42 2[{TeXBase1Encoding ReEncodeFont}48
83.022 /Times-Italic rf /Fk 135[60 1[60 66 40 47 53 1[66
60 66 100 33 66 1[33 66 60 40 53 66 53 66 60 14[86 1[73
6[47 3[80 1[86 1[86 6[40 4[60 60 60 60 60 3[40 45[{
TeXBase1Encoding ReEncodeFont}34 119.552 /Times-Bold
rf /Fl 134[44 2[44 50 28 39 39 1[50 50 50 72 28 2[28
50 1[28 44 1[44 50 50 11[72 1[50 14[72 66 61 66[{
TeXBase1Encoding ReEncodeFont}23 99.6264 /Times-Italic
rf /Fm 133[44 50 2[50 1[28 39 33 1[50 50 50 78 28 2[28
50 50 1[44 50 44 50 44 7[72 5[55 5[89 1[72 3[72 55 2[66
16[50 1[50 3[25 44[{TeXBase1Encoding ReEncodeFont}29
99.6264 /Times-Roman rf /Fn 134[72 72 3[40 56 48 1[72
72 72 112 40 2[40 72 72 1[64 72 64 1[64 13[80 3[104 9[88
1[96 1[104 19[48 45[{TeXBase1Encoding ReEncodeFont}23
143.462 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 785 432 a Fn(Exploring)33 b(an)j(Aspect-Oriented)c(Approach)
1191 614 y(to)j(Operating)f(System)g(Code)888 855 y Fm(Yv)n(onne)24
b(Coady)-6 b(,)25 b(Gre)o(gor)f(Kiczales,)h(and)g(Michael)f(Feele)o(y)
1285 1088 y Fl(Department)f(of)i(Computer)f(Science)1335
1204 y(Univer)o(sity)g(of)g(British)f(Columbia)1575 1398
y Fm(September)i(2,)g(2000)0 1759 y Fk(Abstract)0 1942
y Fj(This)16 b(paper)f(pr)m(esents)h(the)g(initial)g(r)m(esults)h(of)e
(our)h(e)n(xperiment)g(using)f(an)g(aspect-oriented)f(appr)l(oac)o(h)g
(to)h(simplify)i(oper)o(ating)d(system)0 2042 y(code)o(.)24
b(The)c(intuition)f(behind)g(this)i(work)g(is)g(that)f(comple)n(xity)g
(comes)g(fr)l(om)h(cr)l(osscutting)f(concerns.)125 2142
y(In)25 b(this)h(e)n(xperiment,)g(we)h(r)m(e-implemented)d(pr)m(efetc)o
(hing)g(for)i(pa)o(g)o(e)e(fault)i(handling)d(and)i(\002le)g(system)i
(r)m(ead)e(r)m(equests)g(using)g(a)0 2241 y(hypothetical)c(langua)o(g)o
(e)o(,)f(AspectC)j(\226)g(a)f(variant)g(of)h(AspectJ)f(for)h(C)h(\226)e
(and)g(hand-compiled)d(the)j(code)g(to)h(C.)g(W)-8 b(e)23
b(belie)o(ve)f(that)h(the)0 2341 y(aspect-oriented)d(code)h(is)h
(easier)g(to)g(under)o(stand,)e(and)h(in)g(particular)g(that)h(it)g(is)
g(easier)g(to)g(under)o(stand)e(the)i(inter)o(action)e(between)0
2441 y(the)g(virtual)g(memory)h(and)e(\002le)h(system)h(pr)m(efetc)o
(hing)e(mec)o(hanisms.)0 2721 y Fk(1)119 b(Intr)n(oduction)0
2906 y Fi(Operating)26 b(systems)h(ha)n(v)o(e)g(a)g(problem)f(with)h
(modularity)-5 b(.)44 b(Comple)o(x)25 b(interactions)i(between)f
(components)f(of)i(the)g(system)g(blur)0 3006 y(module)18
b(boundaries)g(and)h(mak)o(e)g(them)h(highly)e(susceptible)i(to)f
(erosion.)24 b(A)c(study)g(of)f(OS/360)g(done)g(in)h(the)f(early)h(70s)
f([7)o(])h(sho)n(wed)0 3106 y(that)i(the)f(number)f(of)h(modules)f(in)m
(v)n(olv)o(ed)g(in)i(a)f(change)g(rose)g(from)f(14.6\045)h(in)h
(releases)f(2\2266,)g(to)h(31.9\045)e(in)i(releases)g(12\22616)d(due)i
(to)0 3205 y(\223unintentional)d(interaction\224)g(among)h(components.)
125 3305 y(This)28 b(situation)g(does)g(not)g(appear)f(to)i(be)f(impro)
o(ving.)47 b(Modern)27 b(commercial)g(operating)f(systems,)31
b(lik)o(e)e(W)m(indo)n(ws)f(NT)g(for)0 3404 y(e)o(xample,)h(require)e
(third)h(party)g(\002le)h(system)g(designers)f(to)h(be)f(intimately)g
(f)o(amiliar)g(with)h(\223patterns)f(of)g(interaction\224)f(that)i
(nec-)0 3504 y(essarily)j(e)o(xist)g(between)f(the)h(\002le)h(system,)h
(cache)e(manager)e(and)h(virtual)h(memory)e(manager)g([11)o(].)60
b(Research)32 b(in)g(e)o(xtensible)0 3604 y(systems)22
b([3)o(,)f(9,)g(10)o(])h(has)f(f)o(ailed)g(to)h(f)o(acilitate)f(a)h(k)o
(e)o(y)e(feature,)h(incremental)e(customization)h([4)o(,)i(5)o(],)g
(for)e(the)h(same)h(reason.)27 b(That)21 b(is,)0 3703
y(it)i(is)h(not)e(possible)g(to)h(ensure)e(that)i(a)g(change)e(will)i
(require)e(an)i(ef)n(fort)e(proportional)f(to)i(the)h(amount)e(of)h
(code)g(in)m(v)n(olv)o(ed)e(when)i(k)o(e)o(y)0 3803 y(concerns)d(lack)h
(locality)-5 b(.)125 3903 y(In)21 b(our)f(e)o(xperiment)g(we)h(f)o
(actored)f(out)h(and)g(re-implemented)e(the)i(functionality)f(of)h(a)h
(crosscutting)e(concern)g(in)h(an)g(operating)0 4002
y(system.)53 b(W)-7 b(e)30 b(used)g(a)f(hypothetical)e(language,)j
Fj(AspectC)g Fi(\226)f(a)h(v)n(ariant)f(of)g(AspectJ)h([1)o(])g(for)e
(C.)i(W)-7 b(e)31 b(then)e(hand-compiled)d(this)0 4102
y(implementation)d(into)i(C)i(in)e(order)f(to)i(get)g(a)f(running)f
(system.)40 b(W)-7 b(e)27 b(belie)n(v)o(e)e(that)g(an)g
(aspect-oriented)f(approach)f(allo)n(wed)i(us)g(to)0
4201 y(bring)20 b(important)f(conte)o(xt)h(to)h(what)g(had)f(been)h
(comple)o(x)e(interactions)h(in)h(the)g(original)e(implementation,)g
(making)h(them)g(easier)h(to)0 4301 y(understand.)0 4581
y Fk(2)119 b(Pr)n(efetching:)38 b(backgr)n(ound)32 b(and)e(experiment)0
4767 y Fi(Operating)g(systems)i(use)g Fj(pr)m(efetc)o(hing)e
Fi(to)i(amortize)f(the)h(costs)g(of)g(accessing)f(disk.)59
b(As)33 b(a)f(result,)i(prefetching)c(functionality)0
4866 y(accompanies)23 b(acti)n(vity)g(from)h(all)h(parts)f(of)g(the)g
(system)h(that)f(access)h(disk.)37 b(F)o(or)24 b(e)o(xample,)g
(prefetching)e(is)j(associated)f(with)g(both)0 4966 y(the)c(the)g
(virtual)g(memory)e(system)j(and)e(the)i(\002le)f(system.)26
b(Independent)17 b(of)j(what)g(subsystem)f(prefetching)f(is)j(part)f
(of,)g(ho)n(we)n(v)o(er)m(,)e(its)0 5066 y(functionality)k(al)o(w)o
(ays)k(includes)d(three)i(elements:)33 b(\(1\))24 b(a)h(prediction)e
(of)h(what)h(information)d(is)k(lik)o(ely)e(to)h(be)f(needed)g(in)h
(the)f(near)0 5165 y(future,)i(\(2\))f(an)h(e)n(v)n(aluation)e(of)h
(the)h(cost-ef)n(fecti)n(v)o(eness)e(of)h(retrie)n(ving)f(this)j
(information,)d(and)h(\(3\))h(a)g(request)f(to)h(the)g(lo)n(wer)f(le)n
(v)o(el)0 5265 y(disk)20 b(subsystem)g(to)g(fetch)g(this)h
(information.)1929 5589 y(1)p eop
%%Page: 2 2
2 1 bop 1350 976 a
 currentpoint currentpoint translate 0.59753 0.59753 scale neg exch
neg exch translate
 1350 976 a @beginspecial 0 @llx 0
@lly 241 @urx 196 @ury 2410 @rwi @clip @setspecial
%%BeginDocument: filepic.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: filepic.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Fri Sep  1 15:46:29 2000
%%For: ycoady@kilkenny.cs.ubc.ca (Yvonne Coady)
%%Orientation: Portrait
%%BoundingBox: 0 0 241 196
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-35.0 195.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4237 m -1000 -1000 l 5587 -1000 l 5587 4237 l cp clip
 0.06000 0.06000 sc
/Times-Roman ff 180.00 scf sf
3000 1200 m
gs 1 -1 sc  90.0 rot (vfs_cluster.c) col0 sh gr
% Polyline
7.500 slw
n 1350 1950 m 1575 1950 l 1575 2100 l 1350 2100 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 600 1500 m 825 1500 l 825 1425 l 600 1425 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 600 1275 m 825 1275 l 825 3225 l 600 3225 l cp gs col0 s gr 
% Polyline
n 1725 1800 m 1950 1800 l 1950 1875 l 1725 1875 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 1725 2175 m 1950 2175 l 1950 2250 l 1725 2250 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2100 1275 m 2325 1275 l 2325 3225 l 2100 3225 l cp gs col0 s gr 
% Polyline
n 2100 1725 m 2325 1725 l 2325 1875 l 2100 1875 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2100 1425 m 2325 1425 l 2325 1500 l 2100 1500 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2100 1275 m 2325 1275 l 2325 3225 l 2100 3225 l cp gs col0 s gr 
% Polyline
n 2100 2850 m 2325 2850 l 2325 2925 l 2100 2925 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3225 1275 m 3450 1275 l 3450 3225 l 3225 3225 l cp gs col0 s gr 
% Polyline
n 3600 1275 m 3825 1275 l 3825 3225 l 3600 3225 l cp gs col0 s gr 
% Polyline
n 3600 1875 m 3825 1875 l 3825 1950 l 3600 1950 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 1725 1275 m 1950 1275 l 1950 3225 l 1725 3225 l cp gs col0 s gr 
% Polyline
n 2100 2100 m 2325 2100 l 2325 2175 l 2100 2175 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2100 2400 m 2325 2400 l 2325 2475 l 2100 2475 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2100 2625 m 2325 2625 l 2325 2775 l 2100 2775 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2850 2175 m 3075 2175 l 3075 2250 l 2850 2250 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2850 1275 m 3075 1275 l 3075 3225 l 2850 3225 l cp gs col0 s gr 
% Polyline
n 2850 2400 m 3075 2400 l 3075 2550 l 2850 2550 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3225 1425 m 3450 1425 l 3450 1500 l 3225 1500 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 975 2325 m 1200 2325 l 1200 2400 l 975 2400 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 975 1275 m 1200 1275 l 1200 3225 l 975 3225 l cp gs col0 s gr 
% Polyline
n 975 2175 m 1200 2175 l 1200 2250 l 975 2250 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 2475 1275 m 2700 1275 l 2700 3225 l 2475 3225 l cp gs col0 s gr 
% Polyline
n 2475 1575 m 2700 1575 l 2700 1650 l 2475 1650 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3975 1275 m 4200 1275 l 4200 3225 l 3975 3225 l cp gs col0 s gr 
% Polyline
n 4350 1275 m 4575 1275 l 4575 3225 l 4350 3225 l cp gs col0 s gr 
% Polyline
n 3600 2175 m 3825 2175 l 3825 2250 l 3600 2250 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3975 2700 m 4200 2700 l 4200 2850 l 3975 2850 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3975 1725 m 4200 1725 l 4200 1800 l 3975 1800 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 3975 2100 m 4200 2100 l 4200 2175 l 3975 2175 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 4350 1950 m 4575 1950 l 4575 2025 l 4350 2025 l cp gs col7 0.50 shd ef gr gs col0 s gr 
% Polyline
n 1725 2475 m 1950 2475 l 1950 2625 l 1725 2625 l cp gs col7 0.50 shd ef gr gs col0 s gr 
/Times-Roman ff 180.00 scf sf
2625 1200 m
gs 1 -1 sc  90.0 rot (vfs_bio.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 1200 m
gs 1 -1 sc  90.0 rot (vnode.h) col0 sh gr
/Times-Roman ff 180.00 scf sf
1125 1200 m
gs 1 -1 sc  90.0 rot (vm_object.h) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1200 m
gs 1 -1 sc  90.0 rot (vm_fault.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
1500 1200 m
gs 1 -1 sc  90.0 rot (vm_map.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
2250 1200 m
gs 1 -1 sc  90.0 rot (ufs_readwrite.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
3375 1200 m
gs 1 -1 sc  90.0 rot (ufsmount.h) col0 sh gr
/Times-Roman ff 180.00 scf sf
3750 1200 m
gs 1 -1 sc  90.0 rot (ufs_bmap.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
4500 1200 m
gs 1 -1 sc  90.0 rot (vnode_pager.c) col0 sh gr
/Times-Roman ff 180.00 scf sf
4125 1200 m
gs 1 -1 sc  90.0 rot (swap_pager.c) col0 sh gr
% Polyline
n 1350 1275 m 1575 1275 l 1575 3225 l 1350 3225 l cp gs col0 s gr 
$F2psEnd
rs

%%EndDocument
 @endspecial 1350 976 a
 currentpoint currentpoint translate 1 0.59753 div 1 0.59753 div scale
neg exch neg exch translate
 1350 976 a 1288 1159 a Fi(Figure)20
b(1:)25 b(Prefetching)18 b(code)i(in)g(FreeBSD.)690 2995
y
 currentpoint currentpoint translate 0.5196 0.5196 scale neg exch neg
exch translate
 690 2995 a @beginspecial 0 @llx 0 @lly 582 @urx 397
@ury 5820 @rwi @clip @setspecial
%%BeginDocument: hierarch.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: hierarch.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Fri Sep  1 18:40:49 2000
%%For: ycoady@kilkenny.cs.ubc.ca (Yvonne Coady)
%%Orientation: Portrait
%%BoundingBox: 0 0 582 397
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-22.0 437.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 8275 m -1000 -1000 l 11058 -1000 l 11058 8275 l cp clip
 0.06000 0.06000 sc
/Times-Roman ff 165.00 scf sf
2175 4800 m
gs 1 -1 sc (after) col0 sh gr
7.500 slw
% Ellipse
n 5400 6750 600 75 0 360 DrawEllipse gs col7 0.80 shd ef gr gs col0 s gr

% Polyline
n 4800 6750 m 4800 6975 l gs col0 s gr 
% Polyline
n 6000 6750 m 6000 6975 l gs col0 s gr 
/Times-Roman ff 180.00 scf sf
5025 7275 m
gs 1 -1 sc (Local Disk) col0 sh gr
% Ellipse
n 1584 1432 1200 225 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
1923 1191 m 1800 1200 l 1904 1134 l 1776 1176 l 1795 1233 l cp
clip
n 2025 975 m 1875 1050 l 2025 1125 l 1800 1200 l gs col0 s gr gr

% arrowhead
n 1923 1191 m 1800 1200 l 1904 1134 l  col0 s
/Times-Roman ff 180.00 scf sf
1200 1500 m
gs 1 -1 sc (vm_fault) col0 sh gr
% Arc
gs  clippath
7992 3164 m 8100 3225 l 7976 3222 l 8106 3258 l 8122 3200 l cp
clip
 [45 23 15 23] 0 sd
n 5956.2 10625.0 7704.3 -111.4 -73.8 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 7992 3164 m 8100 3225 l 7976 3222 l  col0 s
% Ellipse
n 3450 3975 1200 225 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 7575 3975 1200 225 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3675 6075 975 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2175 5700 975 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1350 5100 975 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3375 5025 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 2250 4466 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 9075 4950 975 150 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 8250 4425 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 7950 3375 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 1878 2182 1200 225 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2250 2550 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 2925 3075 1200 225 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3075 3450 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Ellipse
n 2700 4575 109 109 0 360 DrawEllipse gs col7 0.30 shd ef gr gs col0 s gr

% Polyline
gs  clippath
2321 2801 m 2325 2925 l 2263 2818 l 2300 2948 l 2358 2931 l cp
clip
n 2175 2400 m 2325 2925 l gs col0 s gr gr

% arrowhead
n 2321 2801 m 2325 2925 l 2263 2818 l  col0 s
% Polyline
gs  clippath
1108 2891 m 1050 3000 l 1050 2876 l 1017 3007 l 1075 3022 l cp
clip
n 1200 2400 m 1050 3000 l gs col0 s gr gr

% arrowhead
n 1108 2891 m 1050 3000 l 1050 2876 l  col0 s
% Polyline
gs  clippath
1333 2891 m 1275 3000 l 1275 2876 l 1242 3007 l 1300 3022 l cp
clip
n 1425 2400 m 1275 3000 l gs col0 s gr gr

% arrowhead
n 1333 2891 m 1275 3000 l 1275 2876 l  col0 s
% Polyline
gs  clippath
2042 3592 m 1950 3675 l 1992 3559 l 1917 3671 l 1967 3704 l cp
clip
n 2204 3294 m 1950 3675 l gs col0 s gr gr

% arrowhead
n 2042 3592 m 1950 3675 l 1992 3559 l  col0 s
% Polyline
n 8175 3150 m 7950 2925 l 8175 2775 l gs col0 s gr 
% Polyline
gs  clippath
7681 3686 m 7575 3750 l 7639 3644 l 7543 3739 l 7586 3782 l cp
clip
n 8175 3150 m 7575 3750 l gs col0 s gr gr

% arrowhead
n 7681 3686 m 7575 3750 l 7639 3644 l  col0 s
% Polyline
gs  clippath
3162 3621 m 3179 3744 l 3106 3644 l 3157 3769 l 3212 3747 l cp
clip
n 3000 3300 m 3179 3744 l gs col0 s gr gr

% arrowhead
n 3162 3621 m 3179 3744 l 3106 3644 l  col0 s
% Polyline
gs  clippath
5225 6404 m 5250 6525 l 5171 6430 l 5230 6552 l 5284 6525 l cp
clip
n 4125 4200 m 5250 6525 l gs col0 s gr gr

% arrowhead
n 5225 6404 m 5250 6525 l 5171 6430 l  col0 s
% Polyline
gs  clippath
5534 6482 m 5437 6559 l 5487 6446 l 5404 6553 l 5452 6589 l cp
clip
n 7200 4275 m 5437 6559 l gs col0 s gr gr

% arrowhead
n 5534 6482 m 5437 6559 l 5487 6446 l  col0 s
% Polyline
gs  clippath
2030 4931 m 1950 5025 l 1977 4904 l 1916 5025 l 1970 5052 l cp
clip
n 2400 4125 m 2250 4425 l 1950 5025 l gs col0 s gr gr

% arrowhead
n 2030 4931 m 1950 5025 l 1977 4904 l  col0 s
% Polyline
gs  clippath
3469 5803 m 3450 5925 l 3410 5808 l 3421 5943 l 3481 5937 l cp
clip
n 3300 4200 m 3450 5925 l gs col0 s gr gr

% arrowhead
n 3469 5803 m 3450 5925 l 3410 5808 l  col0 s
% Polyline
gs  clippath
8437 4682 m 8475 4800 l 8386 4714 l 8458 4829 l 8508 4797 l cp
clip
n 8100 4200 m 8475 4800 l gs col0 s gr gr

% arrowhead
n 8437 4682 m 8475 4800 l 8386 4714 l  col0 s
% Polyline
gs  clippath
1690 1835 m 1690 1959 l 1632 1850 l 1665 1981 l 1723 1966 l cp
clip
n 1615 1659 m 1690 1959 l gs col0 s gr gr

% arrowhead
n 1690 1835 m 1690 1959 l 1632 1850 l  col0 s
% Polyline
gs  clippath
883 2816 m 825 2925 l 825 2801 l 792 2932 l 850 2947 l cp
clip
n 975 2325 m 825 2925 l gs col0 s gr gr

% arrowhead
n 883 2816 m 825 2925 l 825 2801 l  col0 s
% Polyline
gs  clippath
2468 5447 m 2400 5550 l 2412 5427 l 2367 5554 l 2423 5574 l cp
clip
n 2850 4275 m 2400 5550 l gs col0 s gr gr

% arrowhead
n 2468 5447 m 2400 5550 l 2412 5427 l  col0 s
/Times-Roman ff 180.00 scf sf
450 3225 m
gs 1 -1 sc (\(other pagers\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
600 3900 m
gs 1 -1 sc (\(other file systems\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2925 4050 m
gs 1 -1 sc (ffs_getpages) col0 sh gr
/Times-Roman ff 180.00 scf sf
6825 2550 m
gs 1 -1 sc (Application requests to read from the ) col0 sh gr
/Times-Roman ff 180.00 scf sf
8475 2775 m
gs 1 -1 sc (local file system) col0 sh gr
/Times-BoldItalic ff 255.00 scf sf
6075 2100 m
gs 1 -1 sc (File System) col0 sh gr
/Times-Roman ff 180.00 scf sf
7200 4050 m
gs 1 -1 sc (ffs_read) col0 sh gr
/Times-Roman ff 180.00 scf sf
2250 825 m
gs 1 -1 sc (Application accesses a virtual page ) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1050 m
gs 1 -1 sc (                not resident in physical memory) col0 sh gr
/Times-Roman ff 180.00 scf sf
3075 6150 m
gs 1 -1 sc (disk_map_check) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 5775 m
gs 1 -1 sc (calc_trans_size) col0 sh gr
/Times-Roman ff 180.00 scf sf
825 5175 m
gs 1 -1 sc (check_valid) col0 sh gr
/Times-Roman ff 180.00 scf sf
8475 5025 m
gs 1 -1 sc ( wait_for_read) col0 sh gr
/Times-BoldItalic ff 255.00 scf sf
3450 2250 m
gs 1 -1 sc (   Virtual Memory) col0 sh gr
/Times-Roman ff 180.00 scf sf
1200 2175 m
gs 1 -1 sc (vm_pager_getpages) col0 sh gr
/Times-Roman ff 180.00 scf sf
2100 3150 m
gs 1 -1 sc (vnode_pager_getpages) col0 sh gr
/Times-Roman ff 165.00 scf sf
2475 2625 m
gs 1 -1 sc (before) col0 sh gr
/Times-Roman ff 165.00 scf sf
3300 3450 m
gs 1 -1 sc (around) col0 sh gr
/Times-Roman ff 165.00 scf sf
3300 3600 m
gs 1 -1 sc (after) col0 sh gr
/Times-Roman ff 165.00 scf sf
8400 4425 m
gs 1 -1 sc ( after) col0 sh gr
/Times-Roman ff 165.00 scf sf
8175 3450 m
gs 1 -1 sc (after) col0 sh gr
/Times-Roman ff 165.00 scf sf
3525 4950 m
gs 1 -1 sc (after) col0 sh gr
/Times-Roman ff 165.00 scf sf
2850 4500 m
gs 1 -1 sc (before) col0 sh gr
% Ellipse
n 5400 6975 600 75 0 360 DrawEllipse gs col0 s gr

$F2psEnd
rs

%%EndDocument
 @endspecial 690 2995 a
 currentpoint currentpoint translate 1 0.5196 div 1 0.5196 div scale
neg exch neg exch translate
 690 2995 a 963 3178 a Fi(Figure)f(2:)26
b(P)o(age)20 b(f)o(ault)g(and)f(\002le)i(system)f(read)g(paths)g(in)g
(FreeBSD.)125 3445 y(In)15 b(FreeBSD)i(v)o(ersion)e(3,)i(an)f
(operating)e(system)j(written)f(in)g(C,)h(the)f(implementation)e(of)i
(prefetching)e(is)j(spread)e(throughout)f(the)0 3545
y(e)o(xisting)20 b(system)h(modularity)-5 b(,)18 b(as)j(outlined)e(in)i
(Figure)f(1.)26 b(Some)21 b(of)f(these)h(scattered)f(pieces)h(of)f
(prefetching)e(code)i(w)o(ork)g(together)0 3644 y(to)26
b(perform)e(a)j(coordinated)d(task,)j(while)g(others)e(are)h(dif)n
(ferent)f(manifestations)g(of)h(the)g(same)g(prefetching)e(polic)o(y)h
(enforced)f(by)0 3744 y(subsystem-speci\002c)15 b(mechanisms.)22
b(Much)15 b(of)h(the)g(comple)o(xity)e(comes)i(from)f(the)h
(interaction)e(of)i(virtual)f(memory)f(and)i(\002le)g(system)0
3843 y(prefetching)i(strate)o(gies.)125 3943 y(The)f(goal)g(of)g(this)h
(e)o(xperiment)e(w)o(as)i(to)g(determine)e(if)i(an)f(aspect-oriented)e
(approach)h(can)h(be)h(used)f(to)h(impro)o(v)o(e)d(the)j(modularity)0
4043 y(of)27 b(OS)g(code,)h(and)e(further)m(,)g(to)h(consider)f(if)h(a)
g(language)e(lik)o(e)i(AspectC)h(could)e(be)g(of)h(use.)45
b(In)26 b(this)i(study)-5 b(,)27 b(we)g(re-implemented)0
4142 y(prefetching)e(in)i(FreeBSD)g(using)g(an)g(aspect-oriented)e
(approach)f([6,)j(8)o(].)46 b(Since)27 b(an)g(aspect-oriented)e
(programming)e(language)0 4242 y(for)h(C)i(does)e(not)g(e)o(xist,)i(we)
f(postulated)e(one)h(v)o(ery)g(similar)h(to)g(the)f(static)i(part)e(of)
g(AspectJ)h(v)o(ersion)f(0.7.)37 b(W)-7 b(e)26 b(wrote)e(code)g(in)h
(this)0 4342 y(language)19 b(and)g(then)h(carefully)f(hand-compiled)e
(it)k(to)f(ordinary)e(C.)j(The)f(hand-compiled)d(v)o(ersion)i(of)h(our)
g(code)f(is)i(a)n(v)n(ailable)f(at)h(on)0 4441 y(our)e(web)h(page)g([2)
o(].)0 4721 y Fk(3)119 b(Aspect-oriented)31 b(pr)n(efetching)0
4907 y Fi(Figure)24 b(2)g(sho)n(ws)g(a)h(high)e(le)n(v)o(el)h(o)o(v)o
(ervie)n(w)e(of)i(the)g(main)g(functions)f(in)m(v)n(olv)o(ed)f(in)i
(the)g(page)g(f)o(ault)g(handling)e(and)i(\002le)h(system)f(read)0
5007 y(paths)18 b(in)h(FreeBSD.)g(The)f Fj(befor)m(e)p
Fi(,)h Fj(after)g Fi(and)f Fj(ar)l(ound)f Fi(labels)i(associated)f
(with)h(the)g(circles)f(on)h(the)f(edges)g(of)h(the)f(call)h(graph)f
(denote)0 5106 y(locations)i(where)f(advice)h(applies.)125
5206 y(In)g(this)h(section,)f(we)h(present)f(our)g(prefetching)e
(aspects)j(incrementally)-5 b(.)24 b(First,)d(we)g(focus)f(on)g
(prediction)f(and)h(retrie)n(v)n(al)g(in)h(the)0 5305
y(page)e(f)o(ault)h(handling)e(path,)h(and)g(the)h(\002le)g(system)g
(path,)g(respecti)n(v)o(ely)-5 b(.)22 b(Then,)d(we)h(sho)n(w)g(ho)n(w)f
(the)h(modi\002cation)e(of)i(the)f(prediction)1929 5589
y(2)p eop
%%Page: 3 3
3 2 bop 0 83 a Fi(aspect)21 b(from)g(the)g(\002le)h(system)g(can)f(be)h
(e)o(xtended)d(to)j(include)e(page)h(f)o(ault)g(handling.)27
b(Finally)-5 b(,)21 b(we)h(see)g(ho)n(w)e(this)i(e)o(xtension)e(can)i
(be)0 183 y(used)e(to)g(b)n(uild)g(a)h(ne)n(w)f(strate)o(gy)f(for)h
(page)f(f)o(ault)h(handling)f(to)h(include)f(\002le)i(system)f
(prefetching)e(functionality)-5 b(.)0 420 y Fh(3.1)99
b(P)o(age)25 b(fault)g(handling)g(path)0 576 y Fi(A)f(virtual)f(memory)
f Fj(object)h Fi(is)i(a)f(collection)f(of)g(related)g(pages.)35
b(In)23 b(the)h(e)o(xample)e(we)i(consider)f(here,)g(the)h(object)f(we)
h(access)h(is)f(a)0 676 y(\002le)d(that)f(has)h(been)e(mapped)g(into)h
(memory)e(using)i(the)g Fj(mmap\(\))f Fi(command.)125
775 y(In)i(FreeBSD,)h(e)n(v)o(ery)e(virtual)h(memory)f(object)h(has)g
(a)h(declared)f(beha)n(viour)m(,)e(which)i(is)h Fj(normal)f
Fi(by)g(def)o(ault,)g(and)g(can)h(be)f(set)h(to)0 875
y Fj(r)o(andom)g Fi(or)h Fj(sequential)g Fi(using)g(the)h
Fj(madvise\(\))e Fi(system)i(call.)35 b(This)24 b(declared)e(beha)n
(viour)g(is)i(used)g(to)f(help)h(determine)e(ho)n(w)h(man)o(y)0
974 y(and)i(which)g(pages)h(should)f(be)g(prefetched)f(during)g(the)i
(handling)e(of)h(a)i(page)e(f)o(ault:)36 b(random)24
b(objects)i(do)f(not)g(prefetch,)h(normal)0 1074 y(objects)g(prefetch)f
(a)h(fe)n(w)h(pages)f(before)e(and)i(a)h(fe)n(w)f(pages)g(after)g(the)g
(f)o(aulted)f(page,)i(and)f(sequential)f(objects)h(prefetch)f(a)i(lar)o
(ger)0 1174 y(range)19 b(of)h(pages)g(that)g(come)g(after)g(the)g(f)o
(aulted)f(page.)125 1273 y(In)j(our)g(prototype,)f(the)i(simple)g
(aspect)g Fj(Declar)m(edBehaviour)d Fi(is)k(used)f(to)g(introduce,)e
(initialize,)j(set)f(and)g(get)f(an)h(object')-5 b(s)23
b(de-)0 1373 y(clared)d(beha)n(viour)m(,)d(as)k(sho)n(wn)e(belo)n(w)-5
b(.)128 1541 y Fg(a)t(s)t(p)t(e)t(c)t(t)43 b Ff(D)5 b(e)g(c)g(l)g(a)g
(r)g(e)g(d)g(B)g(e)g(h)h(a)g(v)g(i)f(o)h(u)g(r)41 b Fe(f)202
1674 y Fg(s)8 b(t)g(a)g(t)g(i)g(c)52 b Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g
(u)g(r)37 b(N)-6 b(O)g(R)g(M)g(A)g(L)219 b(=)41 b(.)13
b(.)g(;)202 1740 y Fg(s)8 b(t)g(a)g(t)g(i)g(c)52 b Ff(B)5
b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)36 b(R)-7 b(A)g(N)g(D)g(O)g(M)215
b(=)41 b(.)13 b(.)g(;)202 1807 y Fg(s)8 b(t)g(a)g(t)g(i)g(c)52
b Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)41 b(S)n(E)n(Q)n(U)n(E)n(N)n
(T)n(I)n(A)n(L)82 b(=)41 b(.)13 b(.)g(;)202 2006 y(i)7
b(n)g(t)g(r)g(o)g(d)g(u)g(c)g(e)54 b(O)6 b(b)g(j)g(e)g(c)g(t)41
b Fe(f)g Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)50 b(d)6
b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)45
b(=)29 b(N)-6 b(O)g(R)g(M)g(A)g(L)7 b(;)35 b Fe(g)198
2139 y Fg(v)t(o)t(i)t(d)46 b Ff(s)8 b(e)g(t)p 480 2139
18 4 v 36 w(d)g(e)g(c)g(l)g(a)g(r)g(e)g(d)p 792 2139
V 35 w(b)g(e)g(h)g(a)g(v)g(i)g(o)g(r)15 b(\()f(O)6 b(b)g(j)g(e)g(c)g(t)
49 b(o)8 b(b)g(j)g(e)g(c)g(t)20 b(,)46 b(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g
(u)g(r)49 b(b)6 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)18 b(\))38
b Fe(f)85 b Ff(/)13 b(/)j(m)s(a)s(d)s(v)s(i)s(s)s(e)k(\()13
b(\))51 b(c)10 b(a)g(l)f(l)h(s)54 b(t)10 b(h)g(i)g(s)272
2205 y(o)e(b)g(j)g(e)g(c)g(t)l Fe(\000)-11 b Fd(>)-6
b Ff(d)6 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g
(r)45 b(=)c(b)6 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)17 b(;)195
2272 y Fe(g)200 2405 y Ff(B)6 b(e)g(h)g(a)g(v)g(i)g(o)g(r)44
b(g)6 b(e)g(t)g(D)g(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)g(a)g(v)g(i)g
(o)g(u)g(r)18 b(\()45 b(O)6 b(b)g(j)g(e)g(c)g(t)49 b(o)8
b(b)g(j)g(e)g(c)g(t)45 b(\))38 b Fe(f)270 2471 y Fg(r)6
b(e)g(t)g(u)g(r)g(n)47 b Ff(o)8 b(b)g(j)g(e)g(c)g(t)l
Fe(\000)-11 b Fd(>)-6 b Ff(d)6 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)
g(a)g(v)g(i)g(o)g(u)g(r)19 b(;)195 2537 y Fe(g)125 2670
y(g)125 2795 y Fi(A)g(second)g(aspect,)g Fj(FFSDefaultP)-7
b(a)o(gingP)g(olicy)p Fi(,)16 b(uses)k(declared)e(beha)n(viour)g(to)h
(plan)g(prefetching.)k(This)c(plan)g(is)h(implemented)0
2894 y(by)j(allocating)f(additional)f(pages)i(of)f(physical)g(memory)f
(to)j(the)f(object)f(associated)h(with)g(the)g(f)o(aulted)f(page.)33
b(Then,)22 b(lo)n(wer)h(le)n(v)o(els)0 2994 y(will)j(fetch)e(those)h
(additional)f(pages.)39 b(Note)25 b(that)g(some)g(or)g(all)g(of)g
(these)g(pages)g(can)g(later)g(be)g(deallocated)f(if)h(the)g(page)g
(becomes)0 3094 y(v)n(alid,)19 b(if)i(the)f(page)g(is)h(not)f(found)e
(in)i(the)h(map)e(of)h(blocks)g(on)g(disk,)f(or)h(if)h(the)f
(contiguity)f(of)g(pages)h(has)h(changed.)125 3193 y(Before)c(e)o
(xamining)e(the)j(advice)f(in)h(this)h(aspect,)f(we)g(introduce)e(the)i
(follo)n(wing)e(shared)h(pointcut)g(used)g(to)h(speci\002cally)g
(identify)0 3293 y(control)h(\003o)n(w)h(rooted)f(at)i(a)f(call)h(to)f
(vm)p 1131 3293 25 4 v 29 w(f)o(ault:)128 3461 y Fg(a)t(s)t(p)t(e)t(c)t
(t)45 b Ff(P)8 b(r)g(e)g(f)g(e)g(t)g(c)g(h)g(i)g(n)g(g)g(S)g(h)g(a)g(r)
g(e)g(d)g(D)g(e)g(f)g(i)g(n)g(i)g(t)g(i)g(o)g(n)g(s)34
b Fe(f)200 3527 y Fg(p)6 b(o)g(i)g(n)g(t)g(c)g(u)g(t)44
b Ff(h)7 b(a)g(n)g(d)g(l)g(i)g(n)g(g)g(F)g(a)g(u)g(l)h(t)21
b(\()6 b(M)n(a)n(p)32 b(m)n(a)n(p)10 b(\))i(:)271 3594
y(c)7 b(f)g(l)g(o)g(w)19 b(\()50 b(c)10 b(a)h(l)f(l)h(t)f(o)23
b(\()47 b(v)8 b(m)p 892 3594 18 4 v 37 w(f)g(a)g(u)g(l)g(t)16
b(\()6 b(m)n(a)n(p)15 b(,)48 b(.)17 b(.)f(\))49 b(\))f(\))17
b(;)125 3660 y Fe(g)125 3785 y Fi(The)i(\002rst)h(piece)f(of)g(advice)g
(in)g Fj(FFSDefaultP)-7 b(a)o(gingP)g(olicy)p Fi(,)16
b(sho)n(wn)j(belo)n(w)-5 b(,)18 b(e)o(x)o(ecutes)h(before)f(calls)i(to)
f(vnode)p 3372 3785 25 4 v 28 w(pager)p 3586 3785 V 29
w(getpages)0 3884 y(that)28 b(occur)f(during)f(the)h(handling)f(of)i(a)
g(page)f(f)o(ault.)48 b(Here,)29 b(the)f(prediction)e(aspect)h
(identi\002es)h(the)g(declared)e(beha)n(viour)g(of)i(the)0
3984 y(object,)21 b(and)g(additional)g(pages)g(are)h(added)e(to)i(the)g
(map)f(of)g(pages)h(for)f(this)h(object)f(as)h(the)g(beha)n(viour)e
(dictates.)29 b(Note)22 b(that)g(the)f(use)0 4084 y(of)e(the)f
Fj(handlingF)-6 b(ault)16 b Fi(pointcut)h(gi)n(v)o(es)i(us)g(access)g
(to)g(the)g(page)g(map)f(passed)h(into)f(vm)p 2550 4084
V 29 w(f)o(ault,)h(which)f(must)h(be)g(lock)o(ed)f(while)h(pages)0
4183 y(are)h(inserted)g(for)f(the)h(object.)128 4351
y Fg(a)t(s)t(p)t(e)t(c)t(t)44 b Ff(F)6 b(F)g(S)g(D)g(e)g(f)g(a)g(u)g(l)
g(t)g(P)g(a)g(g)g(i)g(n)g(g)g(P)g(o)g(l)g(i)g(c)g(y)35
b Fe(f)199 4484 y Fg(b)5 b(e)g(f)g(o)g(r)g(e)13 b Ff(\()37
b(M)n(a)n(p)32 b(m)n(a)n(p)11 b(,)47 b(O)6 b(b)g(j)g(e)g(c)g(t)48
b(o)7 b(b)g(j)19 b(,)40 b(V)n(M)n(P)n(a)n(g)n(e)13 b([)h(])53
b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21 b(,)49 b Fg(i)8
b(n)g(t)16 b Fe(\003)37 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22
b(,)50 b Fg(i)8 b(n)g(t)50 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)52 b(\))14 b(:)551 4551 y(P)8 b(r)g(e)g(f)g(e)g(t)g(c)g(h)g(i)g
(n)g(g)g(S)g(h)g(a)g(r)g(e)g(d)g(D)g(e)g(f)g(i)g(n)g(i)g(t)g(i)g(o)g(n)
g(s)14 b(.)j(h)7 b(a)g(n)g(d)g(l)g(i)g(n)g(g)g(F)g(a)g(u)h(l)f(t)21
b(\()6 b(m)n(a)n(p)t(\))27 b(&)5 b(&)553 4617 y(c)11
b(a)g(l)f(l)h(t)f(o)23 b(\()44 b(v)5 b(n)g(o)g(d)g(e)p
1012 4617 18 4 v 30 w(p)g(a)g(g)g(e)g(r)14 b(.)g(g)t(e)t(t)t(p)t(a)t(g)
t(e)t(s)21 b(\()46 b(o)7 b(b)g(j)19 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g
(s)g(t)21 b(,)48 b(l)7 b(e)g(n)g(g)g(t)g(h)23 b(,)47
b(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)49 b(\))12
b(\))39 b Fe(f)269 4750 y Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)50
b(d)6 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)
45 b(=)c(D)5 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)g(h)h(a)g(v)f(i)g(o)h
(u)g(r)21 b(.)16 b(g)6 b(e)g(t)g(D)g(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)
g(h)g(a)g(v)g(i)g(o)g(u)g(r)18 b(\()46 b(o)7 b(b)g(j)49
b(\))14 b(;)275 4883 y Fg(i)e(f)54 b Ff(\()49 b(d)6 b(e)g(c)g(l)g(a)g
(r)g(e)g(d)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)49 b(!)12
b(=)32 b(R)-7 b(A)g(N)g(D)g(O)g(M)31 b(\))38 b Fe(f)329
4949 y Ff(V)l(M)l(m)l(a)l(p)5 b(.)17 b(l)7 b(o)g(c)g(k)20
b(\()37 b(m)n(a)n(p)k(\))14 b(;)342 5016 y(a)8 b(l)g(l)g(o)g(c)p
503 5016 V 35 w(p)g(r)g(e)g(f)g(e)g(t)g(c)g(h)p 804 5016
V 37 w(p)g(a)g(g)g(e)p 993 5016 V 37 w(r)g(a)g(n)g(g)g(e)20
b(\()46 b(o)7 b(b)g(j)19 b(,)48 b(d)6 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g
(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)22 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)
g(t)18 b(,)35 b Fe(\003)17 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22
b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)52
b(\))13 b(;)329 5082 y(V)l(M)l(m)l(a)l(p)5 b(.)16 b(u)6
b(n)g(l)g(o)g(c)g(k)18 b(\()37 b(m)n(a)n(p)k(\))14 b(;)264
5148 y Fe(g)195 5215 y(g)1929 5589 y Fi(3)p eop
%%Page: 4 4
4 3 bop 125 83 a Fi(The)19 b(second)g(piece)g(of)h(advice)f(handles)g
(the)h(case)g(where)f(disk)h(access)h(for)e(the)h(f)o(aulted)f(page)g
(is)i(cancelled.)i(This)d(occurs)f(if)i(the)0 183 y(page)h(becomes)f
(resident)h(in)h(memory)e(or)h(cannot)f(be)i(found)e(in)h(the)h(map)f
(associated)g(with)h(the)f(disk.)32 b(Both)23 b(these)g(conditions)e
(are)0 282 y(check)o(ed)e(during)f(the)j(e)o(x)o(ecution)d(of)i(f)n(fs)
p 1174 282 25 4 v 29 w(getpages,)f(and)h(if)g(either)g(are)g(true,)g
(all)g(pages)g(for)g(prefetching)e(are)i(freed.)202 448
y Fg(a)8 b(f)g(t)g(e)g(r)21 b Ff(\()45 b(O)6 b(b)g(j)g(e)g(c)g(t)48
b(o)7 b(b)g(j)20 b(,)39 b(V)n(M)n(P)n(a)n(g)n(e)13 b([)h(])53
b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21 b(,)50 b Fg(i)8
b(n)g(t)15 b Fe(\003)37 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22
b(,)50 b Fg(i)8 b(n)g(t)50 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)22 b(,)44 b Fg(b)s(o)s(o)s(l)s(e)s(a)s(n)38 b
Ff(c)t(h)t(e)t(c)t(k)46 b(\))14 b(:)550 515 y(c)7 b(f)g(l)g(o)g(w)19
b(\()50 b(c)10 b(a)h(l)f(l)h(t)f(o)23 b(\()47 b(u)8 b(f)g(s)p
1180 515 18 4 v 39 w(r)g(e)g(a)g(d)g(w)g(r)g(i)g(t)g(e)22
b(.)17 b(f)7 b(f)g(s)p 1649 515 V 37 w(g)g(e)g(t)g(p)g(a)g(g)g(e)g(s)20
b(\()15 b(o)7 b(b)g(j)20 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)20
b(,)49 b(l)7 b(e)g(n)g(g)g(t)g(h)22 b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g
(d)g(P)g(a)g(g)g(e)44 b(\))10 b(\))g(\))36 b(&)10 b(&)554
581 y(\()50 b(c)11 b(a)g(l)f(l)g(t)h(o)22 b(\()47 b(c)8
b(h)g(e)g(c)g(k)p 1093 581 V 36 w(v)g(a)g(l)g(i)g(d)21
b(\()15 b(.)f(.)h(\))191 b Fg(r)6 b(e)g(t)g(u)g(r)g(n)g(i)g(n)g(g)42
b Ff(c)t(h)t(e)t(c)t(k)47 b(\))d Fe(j)14 b(j)623 648
y Ff(c)d(a)g(l)f(l)g(t)h(o)22 b(\()45 b(d)5 b(i)g(s)g(k)p
1024 648 V 32 w(m)g(a)g(p)p 1178 648 V 33 w(c)g(h)g(e)g(c)g(k)21
b(\()15 b(.)g(.)g(\))51 b Fg(r)6 b(e)g(t)g(u)g(r)g(n)g(i)g(n)g(g)42
b Ff(c)t(h)t(e)t(c)t(k)j(\))c(\))h Fe(f)275 780 y Fg(i)12
b(f)54 b Ff(\()47 b(c)t(h)t(e)t(c)t(k)c(\))342 847 y(d)9
b(e)g(a)g(l)g(l)g(o)g(c)p 590 847 V 38 w(a)g(l)g(l)p
704 847 V 37 w(p)g(r)g(e)g(f)g(e)g(t)g(c)g(h)p 1013 847
V 38 w(p)g(a)g(g)g(e)g(s)20 b(\()48 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)
18 b(,)35 b Fe(\003)17 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22
b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)52
b(\))13 b(;)195 913 y Fe(g)125 1037 y Fi(Before)19 b(we)h(actually)f
(read)g(the)h(page,)f(interrupts)f(or)i(other)f(system)g(acti)n(vities)
h(could)f(change)g(the)g(location)g(of)g(blocks)h(on)f(disk.)0
1136 y(The)j(\002nal)g(piece)g(of)h(advice)e(re-establishes)h(the)g
(continuity)f(of)h(the)g(pages)g(included)f(in)h(the)h(\002nal)f
(request)g(to)g(transfer)g(from)f(disk.)0 1236 y(An)o(y)e(currently)g
(non-contiguous)d(pages)k(are)g(freed)f(at)i(this)g(point.)199
1402 y Fg(b)5 b(e)g(f)g(o)g(r)g(e)k Ff(\()14 b(O)6 b(b)g(j)g(e)g(c)g(t)
48 b(o)7 b(b)g(j)20 b(,)39 b(V)n(M)n(P)n(a)n(g)n(e)13
b([)h(])53 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21 b(,)50
b Fg(i)8 b(n)g(t)15 b Fe(\003)37 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22
b(,)50 b Fg(i)8 b(n)g(t)50 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)21 b(\))12 b(:)550 1468 y(c)7 b(f)g(l)g(o)g(w)19
b(\()50 b(c)10 b(a)h(l)f(l)h(t)f(o)23 b(\()47 b(u)8 b(f)g(s)p
1180 1468 V 39 w(r)g(e)g(a)g(d)g(w)g(r)g(i)g(t)g(e)22
b(.)17 b(f)7 b(f)g(s)p 1649 1468 V 37 w(g)g(e)g(t)g(p)g(a)g(g)g(e)g(s)
20 b(\()15 b(o)7 b(b)g(j)20 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)20
b(,)49 b(l)7 b(e)g(n)g(g)g(t)g(h)22 b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g
(d)g(P)g(a)g(g)g(e)44 b(\))10 b(\))g(\))36 b(&)10 b(&)553
1535 y(c)h(a)g(l)f(l)h(t)f(o)23 b(\()49 b(c)10 b(a)g(l)g(c)g(u)g(l)g(a)
g(t)g(e)p 1151 1535 V 38 w(t)g(r)g(a)g(n)g(s)g(f)g(e)g(r)p
1455 1535 V 39 w(s)g(i)g(z)g(e)23 b(\()13 b(.)h(.)g(\))44
b(\))f Fe(f)272 1668 y Ff(c)8 b(h)g(e)g(c)g(k)p 465 1668
V 35 w(f)g(o)g(r)p 584 1668 V 36 w(a)g(n)g(d)p 733 1668
V 37 w(d)g(e)g(a)g(l)g(l)g(o)g(c)g(a)g(t)g(e)p 1102 1668
V 34 w(n)g(o)g(n)g(c)g(o)g(n)g(t)g(i)g(g)p 1452 1668
V 36 w(p)g(r)g(e)g(f)g(e)g(t)g(c)g(h)p 1751 1668 V 35
w(p)g(a)g(g)g(e)g(s)19 b(\()48 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)18
b(,)35 b Fe(\003)17 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)23 b(,)47
b(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)52 b(\))14
b(;)195 1734 y Fe(g)0 1994 y Fh(3.2)99 b(File)25 b(system)f(r)n(ead)0
2150 y Fi(The)17 b(prediction)e(strate)o(gy)h(for)g(prefetching)f(in)i
(the)g(\002le)h(system)f(read)f(path)h(relies)g(on)g(the)g(dynamic)e
(detection)h(of)h(sequential)f(access.)0 2250 y(This)k(detection)f
(requires)g(maintenance)g(of)h(the)g(position)f(of)h(the)g(last)h
(access)g(in)f(the)g(\002le,)h(stored)e(in)h(the)h(data)f(structure)f
(associated)0 2349 y(with)28 b(the)g(\002le)g(in)g(memory)-5
b(,)27 b(the)h Fj(vnode)p Fi(.)46 b(File)28 b(access)h(is)f(on)f(the)h
(granularity)e(of)h Fj(bloc)n(ks)h Fi(rather)f(than)g(pages,)i(where)e
(a)h(block)f(is)0 2449 y(typically)19 b(the)i(size)f(of)g(tw)o(o)h
(pages.)125 2548 y(In)e(our)g(prototype,)f(we)i(localized)f(prediction)
f(for)i(the)g(\002le)g(system)g(into)g(a)g(simple)g(aspect,)g
Fj(ObservedBehaviour)p Fi(.)i(This)f(aspect)0 2648 y(introduces)j(the)h
Fj(lastBloc)n(kRead)f Fi(\002eld)i(to)f(the)h Fj(vnode)p
Fi(,)f(and)g(sets)i(this)f(\002eld)f(according)f(to)h(the)h(advice)e
(sho)n(wn)h(belo)n(w)-5 b(.)40 b(Since)25 b(this)0 2748
y(\002eld)h(must)g(be)g(updated)f(according)e(to)k(the)f(last)g(access)
h(point)e(in)h(the)g(\002le,)i(this)f(advice)e(e)o(x)o(ecutes)g(after)h
(e)n(v)o(ery)e(\002le)j(system)f(read)0 2847 y(request.)128
3014 y Fg(a)t(s)t(p)t(e)t(c)t(t)42 b Ff(O)t(b)t(s)t(e)t(r)t(v)t(e)t(d)t
(B)t(e)t(h)5 b(a)t(v)g(i)t(o)g(u)g(r)40 b Fe(f)202 3147
y Ff(i)7 b(n)g(t)g(r)g(o)g(d)g(u)g(c)g(e)49 b(V)q(n)q(o)q(d)q(e)79
b Fe(f)34 b Ff(B)5 b(l)g(o)g(c)g(k)83 b(l)6 b(a)g(s)g(t)g(B)g(l)g(o)g
(c)g(k)g(R)g(e)g(a)g(d)256 b(=)36 b Fg(n)7 b(u)g(l)g(l)17
b Ff(;)36 b Fe(g)202 3280 y Fg(a)8 b(f)g(t)g(e)g(r)21
b Ff(\()45 b(V)6 b(n)g(o)g(d)g(e)p 644 3280 V 32 w(p)g(t)g(r)44
b(v)s(p)15 b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9
b(u)g(f)g(f)21 b(,)46 b(B)5 b(l)g(o)g(c)g(k)49 b(b)6
b(l)g(o)g(c)g(k)21 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(s)7
b(i)g(z)g(e)20 b(\))11 b(:)516 3346 y(u)d(f)g(s)p 622
3346 V 39 w(r)g(e)g(a)g(d)g(w)g(r)g(i)g(t)g(e)22 b(.)c(f)9
b(f)g(s)p 1097 3346 V 39 w(r)g(e)g(a)g(d)22 b(\()42 b(v)s(p)15
b(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48 b(b)6 b(l)g(o)g(c)g(k)21
b(,)49 b(s)7 b(i)g(z)g(e)17 b(\))34 b Fe(f)267 3479 y
Ff(v)s(p)-9 b Fe(\000)e Fd(>)-5 b Ff(v)p 449 3479 V 34
w(l)6 b(a)g(s)g(t)g(B)g(l)g(o)g(c)g(k)g(R)g(e)g(a)g(d)47
b(=)42 b(b)6 b(l)g(o)g(c)g(k)18 b(;)195 3545 y Fe(g)125
3669 y Fi(Sequential)24 b(beha)n(viour)g(is)j(detected)e(when)g(a)h
(read)f(request)g(accesses)i(the)e(block)g(immediately)g(follo)n(wing)f
(the)h(most)h(recent)0 3768 y(position)19 b(of)h(access)h(in)f(the)g
(\002le.)26 b(Since)20 b(the)g(most)g(recent)g(read)f(request)h(is)h
(track)o(ed)e(using)g Fj(v)p 2710 3768 25 4 v 30 w(lastBloc)n(kRead)p
Fi(,)g(sequential)g(access)i(is)0 3868 y(defended)d(relati)n(v)o(e)h
(to)i(this)g(v)n(alue,)e(as)i(sho)n(wn)e(in)h(the)h Fj(g)o(etBloc)n
(kBehaviour)c Fi(function)i(belo)n(w)-5 b(.)199 4035
y Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)50 b(g)6 b(e)g(t)g(B)g(l)g(o)g
(c)g(k)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)20 b(\()45
b(V)6 b(n)g(o)g(d)g(e)p 1411 4035 18 4 v 32 w(p)g(t)g(r)44
b(v)s(p)15 b(,)47 b(B)5 b(l)g(o)g(c)g(k)48 b(b)6 b(l)g(o)g(c)g(k)47
b(\))38 b Fe(f)275 4101 y Fg(i)12 b(f)54 b Ff(\()c(b)6
b(l)g(o)g(c)g(k)41 b(=)8 b(=)34 b(v)s(p)-8 b Fe(\000)d
Fd(>)-6 b Ff(l)6 b(a)g(s)g(t)g(B)g(l)g(o)g(c)g(k)g(R)g(e)g(a)g(d)40
b(+)35 b(1)9 b(\))340 4168 y Fg(r)d(e)g(t)g(u)g(r)g(n)37
b Ff(S)n(E)n(Q)n(U)n(E)n(N)n(T)n(I)n(A)n(L)9 b(;)269
4234 y Fg(e)c(l)g(s)g(e)340 4301 y(r)h(e)g(t)g(u)g(r)g(n)46
b(n)7 b(u)g(l)g(l)17 b Ff(;)195 4367 y Fe(g)125 4433
y(g)0 4677 y Fc(3.2.1)81 b(File)21 b(system)f(sequential)h(pr)o
(efetching)0 4833 y Fi(In)e(the)h(\002le)g(system)g(read)f(path,)g
(when)g(access)h(is)h(sequential,)d(an)i(asynchronous)d(request)i(to)g
(prefetch)f(is)j(issued)f(e)n(v)o(en)e(if)i(the)g(actual)0
4932 y(requested)f(block)g(is)i(found)e(in)h(memory)-5
b(.)128 5017 y Fg(a)t(s)t(p)t(e)t(c)t(t)45 b Ff(D)8 b(e)g(f)g(a)g(u)g
(l)g(t)g(B)g(l)g(o)g(c)g(k)g(P)g(r)g(e)g(f)g(e)g(t)g(c)g(h)g(P)g(o)g(l)
g(i)g(c)g(y)33 b Fe(f)125 5141 y Fi(The)14 b(f)n(fs)p
360 5141 25 4 v 30 w(read)g(pointcut)g(denotes)h(the)g(in)m(v)n
(ocation)e(of)i(the)g(initial)h(entry)e(point)h(to)g(the)g(local)h
(\002le)f(system.)24 b(The)15 b(f)n(fs)p 3372 5141 V
29 w(read)p 3545 5141 V 29 w(transaction)0 5240 y(pointcut)k(denotes)g
(the)h(entire)g(operation)f(of)h(reading)e(the)i(missing)h(block.)1929
5589 y(4)p eop
%%Page: 5 5
5 4 bop 200 83 a Fg(p)6 b(o)g(i)g(n)g(t)g(c)g(u)g(t)45
b Ff(f)9 b(f)g(s)p 609 83 18 4 v 39 w(r)g(e)g(a)g(d)18
b(\()c(V)6 b(n)g(o)g(d)g(e)p 1028 83 V 32 w(p)g(t)g(r)43
b(v)s(p)16 b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9
b(u)g(f)g(f)20 b(,)47 b(B)5 b(l)g(o)g(c)g(k)48 b(b)6
b(l)g(o)g(c)g(k)21 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(s)7
b(i)g(z)g(e)20 b(\))12 b(:)275 149 y(c)e(a)h(l)f(l)h(t)f(o)19
b(\()d(u)8 b(f)g(s)p 622 149 V 39 w(r)g(e)g(a)g(d)g(w)g(r)g(i)g(t)g(e)
22 b(.)c(f)9 b(f)g(s)p 1097 149 V 39 w(r)g(e)g(a)g(d)18
b(\()11 b(v)s(p)k(,)50 b(b)9 b(u)g(f)g(f)21 b(,)47 b(b)6
b(l)g(o)g(c)g(k)22 b(,)48 b(s)7 b(i)g(z)g(e)20 b(\))12
b(;)200 282 y Fg(p)6 b(o)g(i)g(n)g(t)g(c)g(u)g(t)45 b
Ff(f)9 b(f)g(s)p 610 282 V 40 w(r)g(e)g(a)g(d)p 793 282
V 42 w(t)g(r)g(a)g(n)g(s)g(a)g(c)g(t)g(i)g(o)g(n)21 b(\()14
b(V)6 b(n)g(o)g(d)g(e)p 1446 282 V 32 w(p)g(t)g(r)44
b(v)s(p)15 b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9
b(u)g(f)g(f)21 b(,)46 b(B)5 b(l)g(o)g(c)g(k)49 b(b)6
b(l)g(o)g(c)g(k)21 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(s)7
b(i)g(z)g(e)20 b(\))11 b(:)271 349 y(c)c(f)g(l)g(o)g(w)19
b(\()48 b(f)9 b(f)g(s)p 609 349 V 39 w(r)g(e)g(a)g(d)18
b(\()11 b(v)s(p)k(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48 b(b)6
b(l)g(o)g(c)g(k)21 b(,)49 b(s)7 b(i)g(z)g(e)22 b(\))44
b(\))14 b(;)125 471 y Fi(So)31 b(what)h(we)g(need)f(to)h(do)f(is)i
(issue)f(the)g(asynchronous)c(read)k(either)f(right)g(before)f(we)i(do)
f(a)i(synchronous)28 b(read)k(or)f(after)0 571 y(we)g(\002nish)g(the)f
(whole)g(transaction)f(if)i(there)f(w)o(as)i(no)e(synchronous)d(read)j
(during)f(the)i(transaction.)55 b(The)30 b(ne)o(xt)g(tw)o(o)g(pieces)h
(of)0 670 y(advice)21 b(implement)f(this.)28 b Fj(Didit)22
b Fi(is)g(a)g(dynamically)d(bound)h(v)n(ariable)g(that)h(allo)n(ws)h
(the)f(tw)o(o)h(advice)f(to)g(communicate)e(whether)i(the)0
770 y(synchronous)c(read)j(w)o(as)h(done.)202 853 y Ff(s)8
b(p)g(e)g(c)g(i)g(a)g(l)55 b(d)11 b(i)g(d)h(i)f(t)21
b(;)196 986 y Fg(a)r(r)r(o)r(u)r(n)r(d)10 b Ff(\()45
b(V)6 b(n)g(o)g(d)g(e)p 679 986 V 32 w(p)g(t)g(r)44 b(v)s(p)15
b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9 b(u)g(f)g(f)20
b(,)47 b(B)5 b(l)g(o)g(c)g(k)48 b(b)6 b(l)g(o)g(c)g(k)22
b(,)49 b Fg(i)8 b(n)g(t)52 b Ff(s)7 b(i)g(z)g(e)51 b(\))13
b(:)552 1052 y(f)c(f)g(s)p 644 1052 V 39 w(r)g(e)g(a)g(d)18
b(\()11 b(v)s(p)k(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48 b(b)6
b(l)g(o)g(c)g(k)21 b(,)49 b(s)7 b(i)g(z)g(e)17 b(\))34
b Fe(f)267 1185 y Ff(d)s(y)s(n)s(a)s(m)s(i)s(c)46 b Fg(b)s(o)s(o)s(l)s
(e)s(a)s(n)f Ff(d)12 b(i)f(d)h(i)f(t)47 b(=)42 b Fg(f)7
b(a)g(l)g(s)g(e)18 b Ff(;)268 1251 y Fg(c)t(o)t(n)t(t)t(i)t(n)t(u)t(e)
13 b Ff(;)195 1318 y Fe(g)199 1517 y Fg(b)5 b(e)g(f)g(o)g(r)g(e)k
Ff(\()14 b(V)6 b(n)g(o)g(d)g(e)p 644 1517 V 32 w(p)g(t)g(r)44
b(v)s(p)15 b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9
b(u)g(f)g(f)21 b(,)46 b(B)5 b(l)g(o)g(c)g(k)49 b(b)6
b(l)g(o)g(c)g(k)21 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(s)7
b(i)g(z)g(e)20 b(\))11 b(:)587 1583 y(f)e(f)g(s)p 680
1583 V 40 w(r)g(e)g(a)g(d)p 863 1583 V 42 w(t)g(r)g(a)g(n)g(s)g(a)g(c)g
(t)g(i)g(o)g(n)21 b(\()11 b(v)s(p)k(,)50 b(b)9 b(u)g(f)g(f)21
b(,)47 b(b)6 b(l)g(o)g(c)g(k)22 b(,)48 b(s)7 b(i)g(z)g(e)14
b(\))27 b(&)5 b(&)588 1650 y(c)11 b(a)g(l)f(l)h(t)f(o)22
b(\()49 b(w)9 b(a)g(i)g(t)p 1008 1650 V 38 w(f)g(o)g(r)p
1132 1650 V 39 w(r)g(e)g(a)g(d)25 b(\()45 b(.)15 b(.)45
b(\))h(\))f Fe(f)275 1783 y Fg(i)12 b(f)51 b Ff(\()16
b(O)t(b)t(s)t(e)t(r)t(v)t(e)t(d)t(B)t(e)t(h)5 b(a)t(v)g(i)t(o)g(u)g(r)
20 b(.)15 b(g)6 b(e)g(t)g(B)g(l)g(o)g(c)g(k)g(B)g(e)g(h)g(a)g(v)g(i)g
(o)g(u)g(r)17 b(\()11 b(v)s(p)k(,)48 b(b)6 b(l)g(o)g(c)g(k)19
b(\))10 b(\))37 b Fe(f)344 1849 y Ff(v)9 b(f)h(s)p 451
1849 V 41 w(c)g(l)f(u)h(s)g(t)g(e)g(r)20 b(.)c(d)7 b(o)p
841 1849 V 36 w(a)g(s)g(y)g(n)g(c)g(h)p 1095 1849 V 36
w(p)g(r)g(e)g(f)g(e)g(t)g(c)g(h)g(i)g(n)g(g)21 b(\()42
b(v)s(p)15 b(,)50 b(b)9 b(u)g(f)g(f)21 b(,)47 b(b)6 b(l)g(o)g(c)g(k)52
b(\))13 b(;)345 1915 y(d)f(i)f(d)g(i)h(t)46 b(=)c Fg(t)6
b(r)g(u)g(e)15 b Ff(;)264 1982 y Fe(g)195 2048 y(g)125
2171 y Fi(The)k(second)h(piece)g(of)g(advice)f(e)o(x)o(ecutes)g(after)h
(f)n(fs)p 1617 2171 25 4 v 29 w(read,)g(and)f(only)h(issues)h(a)f
(prefetching)e(request)i(if)g(it)h(has)g(not)e(been)h(done.)202
2336 y Fg(a)8 b(f)g(t)g(e)g(r)52 b Ff(\()d(V)6 b(n)g(o)g(d)g(e)p
679 2336 18 4 v 32 w(p)g(t)g(r)44 b(v)s(p)15 b(,)49 b(B)8
b(u)g(f)g(f)g(e)g(r)51 b(b)9 b(u)g(f)g(f)20 b(,)47 b(B)5
b(l)g(o)g(c)g(k)48 b(b)6 b(l)g(o)g(c)g(k)22 b(,)49 b
Fg(i)8 b(n)g(t)52 b Ff(s)7 b(i)g(z)g(e)51 b(\))13 b(:)552
2402 y(f)c(f)g(s)p 644 2402 V 39 w(r)g(e)g(a)g(d)18 b(\()11
b(v)s(p)k(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48 b(b)6 b(l)g(o)g(c)g(k)21
b(,)49 b(s)7 b(i)g(z)g(e)17 b(\))34 b Fe(f)275 2535 y
Fg(i)12 b(f)57 b Ff(\()45 b(!)26 b(d)11 b(i)g(d)h(i)f(t)43
b(&)8 b(&)30 b(\()12 b(O)t(b)t(s)t(e)t(r)t(v)t(e)t(d)t(B)t(e)t(h)5
b(a)g(v)t(i)g(o)t(u)g(r)20 b(.)c(g)6 b(e)g(t)g(B)g(l)g(o)g(c)g(k)g(B)g
(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)20 b(\()13 b(.)f(.)g(\))40
b(=)12 b(=)39 b(S)n(E)n(Q)n(U)n(E)n(N)n(T)n(I)n(A)n(L)h(\))13
b(\))344 2601 y(v)c(f)h(s)p 451 2601 V 41 w(c)g(l)f(u)h(s)g(t)g(e)g(r)
20 b(.)c(d)7 b(o)p 841 2601 V 36 w(a)g(s)g(y)g(n)g(c)g(h)p
1095 2601 V 36 w(p)g(r)g(e)g(f)g(e)g(t)g(c)g(h)g(i)g(n)g(g)21
b(\()42 b(v)s(p)15 b(,)50 b(b)9 b(u)g(f)g(f)21 b(,)47
b(b)6 b(l)g(o)g(c)g(k)52 b(\))13 b(;)195 2668 y Fe(g)125
2867 y(g)0 3125 y Fh(3.3)99 b(Obser)o(v)o(ed)26 b(beha)n(viour)f(f)n
(or)f(the)i(page)f(fault)g(path)0 3281 y Fi(So)e(f)o(ar)m(,)h(we)f(ha)n
(v)o(e)g(seen)g(prefetching)e(as)j(it)g(e)o(xists)f(independently)e(in)
i(the)g(page)g(f)o(ault)g(handling)e(and)i(\002le)h(system)f(paths.)34
b(W)-7 b(e)24 b(no)n(w)0 3381 y(introduce)d(the)i(dynamic)e(detection)h
(of)h(sequential)f(access)h(for)f(the)h(page)f(f)o(ault)h(handling)e
(path,)i(and)f(a)i(ne)n(w)e(strate)o(gy)g(that)h(allo)n(ws)0
3480 y(page)d(f)o(ault)g(handling)e(to)i(use)h(the)f(\002le)h(system)f
(prefetching.)125 3580 y(The)i(functionality)e(for)i(observ)o(ed)f
(beha)n(viour)g(is)i(already)f(in)h(place)f(for)g(the)h(\002le)g
(system)g(path,)g(so)g(introducing)d(this)j(dynamic)0
3680 y(prediction)e(to)h(the)h(page)f(f)o(ault)g(path)h(requires)e(a)i
(ne)n(w)f(\002eld,)h Fj(lastP)-7 b(a)o(g)o(eReadbyF)h(ault)p
Fi(,)20 b(and)i(ne)n(w)g(set)i(and)e(get)g(functionality)-5
b(.)30 b(These)0 3779 y(changes)19 b(to)i(our)e Fj(ObservedBehaviour)f
Fi(aspect)i(are)g(sho)n(wn)f(belo)n(w)-5 b(.)128 3945
y Fg(a)t(s)t(p)t(e)t(c)t(t)42 b Ff(O)t(b)t(s)t(e)t(r)t(v)t(e)t(d)t(B)t
(e)t(h)5 b(a)t(v)g(i)t(o)g(u)g(r)40 b Fe(f)202 4078 y
Ff(i)7 b(n)g(t)g(r)g(o)g(d)g(u)g(c)g(e)49 b(V)q(n)q(o)q(d)q(e)79
b Fe(f)34 b Ff(B)5 b(l)g(o)g(c)g(k)83 b(l)6 b(a)g(s)g(t)g(B)g(l)g(o)g
(c)g(k)g(R)g(e)g(a)g(d)256 b(=)36 b Fg(n)7 b(u)g(l)g(l)19
b Ff(;)39 b Fe(g)227 b Ff(/)15 b(/)44 b(was)2335 4144
y(/)15 b(/)52 b(i)8 b(n)202 4211 y Fg(a)g(f)g(t)g(e)g(r)21
b Ff(\()45 b(V)6 b(n)g(o)g(d)g(e)p 644 4211 V 32 w(p)g(t)g(r)44
b(v)s(p)15 b(,)49 b(B)8 b(u)g(f)g(f)g(e)g(r)51 b(b)9
b(u)g(f)g(f)21 b(,)46 b(B)5 b(l)g(o)g(c)g(k)49 b(b)6
b(l)g(o)g(c)g(k)21 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(s)7
b(i)g(z)g(e)21 b(\))14 b(:)161 b(/)15 b(/)51 b(p)7 b(r)g(e)g(v)g(i)g(o)
g(u)g(s)516 4277 y(u)h(f)g(s)p 622 4277 V 39 w(r)g(e)g(a)g(d)g(w)g(r)g
(i)g(t)g(e)22 b(.)c(f)9 b(f)g(s)p 1097 4277 V 39 w(r)g(e)g(a)g(d)22
b(\()42 b(v)s(p)15 b(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48
b(b)6 b(l)g(o)g(c)g(k)21 b(,)49 b(s)7 b(i)g(z)g(e)19
b(\))38 b Fe(f)156 b Ff(/)15 b(/)51 b(v)7 b(e)g(r)g(s)g(i)g(o)g(n)2335
4344 y(/)15 b(/)51 b(o)7 b(f)267 4410 y(v)s(p)-9 b Fe(\000)e
Fd(>)-5 b Ff(v)p 449 4410 V 34 w(l)6 b(a)g(s)g(t)g(B)g(l)g(o)g(c)g(k)g
(R)g(e)g(a)g(d)47 b(=)42 b(b)6 b(l)g(o)g(c)g(k)21 b(;)1101
b(/)15 b(/)49 b(a)5 b(s)g(p)g(e)g(c)g(t)201 4477 y Fe(g)2099
b Ff(/)12 b(/)2334 4543 y(/)g(/)199 4609 y(B)5 b(e)g(h)g(a)g(v)g(i)g(o)
g(u)g(r)50 b(g)6 b(e)g(t)g(B)g(l)g(o)g(c)g(k)g(B)g(e)g(h)g(a)g(v)g(i)g
(o)g(u)g(r)20 b(\()45 b(V)6 b(n)g(o)g(d)g(e)p 1411 4609
V 32 w(p)g(t)g(r)44 b(v)s(p)15 b(,)47 b(B)5 b(l)g(o)g(c)g(k)48
b(b)6 b(l)g(o)g(c)g(k)50 b(\))40 b Fe(f)123 b Ff(/)12
b(/)275 4676 y Fg(i)g(f)54 b Ff(\()c(b)6 b(l)g(o)g(c)g(k)41
b(=)8 b(=)34 b(v)s(p)-8 b Fe(\000)d Fd(>)-6 b Ff(l)6
b(a)g(s)g(t)g(B)g(l)g(o)g(c)g(k)g(R)g(e)g(a)g(d)43 b(+)37
b(1)11 b(\))818 b(/)12 b(/)340 4742 y Fg(r)6 b(e)g(t)g(u)g(r)g(n)37
b Ff(S)n(E)n(Q)n(U)n(E)n(N)n(T)n(I)n(A)n(L)12 b(;)1379
b(/)12 b(/)269 4809 y Fg(e)5 b(l)g(s)g(e)1938 b Ff(/)12
b(/)340 4875 y Fg(r)6 b(e)g(t)g(u)g(r)g(n)46 b(n)7 b(u)g(l)g(l)20
b Ff(;)1588 b(/)12 b(/)201 4941 y Fe(g)2099 b Ff(/)12
b(/)202 5141 y(i)7 b(n)g(t)g(r)g(o)g(d)g(u)g(c)g(e)54
b(O)6 b(b)g(j)g(e)g(c)g(t)41 b Fe(f)34 b Ff(V)n(M)n(P)n(a)n(g)n(e)39
b(l)5 b(a)g(s)g(t)g(P)g(a)g(g)g(e)g(R)g(e)g(a)g(d)g(b)h(y)f(F)g(a)h(u)g
(l)f(t)47 b(=)42 b Fg(n)7 b(u)g(l)g(l)17 b Ff(;)36 b
Fe(g)202 5274 y Fg(a)8 b(f)g(t)g(e)g(r)21 b Ff(\()45
b(O)6 b(b)g(j)g(e)g(c)g(t)19 b(,)39 b(V)n(M)n(P)n(a)n(g)n(e)14
b([)g(])53 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21 b(,)49
b Fg(i)8 b(n)g(t)16 b Fe(\003)36 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)23
b(,)50 b Fg(i)8 b(n)g(t)50 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)52 b(\))13 b(:)516 5340 y(h)7 b(a)g(n)g(d)g(l)g(i)g(n)g(g)g(F)g
(a)g(u)g(l)h(t)21 b(\()6 b(M)n(a)n(p)t(\))27 b(&)5 b(&)1929
5589 y Fi(5)p eop
%%Page: 6 6
6 5 bop 516 83 a Ff(u)8 b(f)g(s)p 622 83 18 4 v 39 w(r)g(e)g(a)g(d)g(w)
g(r)g(i)g(t)g(e)22 b(.)17 b(f)7 b(f)g(s)p 1091 83 V 37
w(g)g(e)g(t)g(p)g(a)g(g)g(e)g(s)24 b(\()46 b(o)7 b(b)g(j)20
b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)20 b(,)49 b(l)7
b(e)g(n)g(g)g(t)g(h)22 b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)47 b(\))38 b Fe(f)271 216 y Ff(o)7 b(b)g(j)-5
b Fe(\000)-11 b Fd(>)-5 b Ff(l)6 b(a)g(s)g(t)g(R)g(e)g(a)g(d)g(b)g(y)g
(F)g(a)h(u)f(l)h(t)48 b(=)c(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)14
b([)7 b Fe(\003)14 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22 b(])13
b(;)195 282 y Fe(g)199 482 y Ff(B)5 b(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)49
b(g)5 b(e)g(t)g(P)g(a)g(g)g(e)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)14
b(\()46 b(O)6 b(b)g(j)g(e)g(c)g(t)47 b(o)7 b(b)g(j)20
b(,)39 b(V)n(M)n(P)n(a)n(g)n(e)13 b([)i(])53 b(p)9 b(a)g(g)g(e)g(l)g(i)
g(s)g(t)20 b(,)50 b Fg(i)8 b(n)g(t)51 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)23
b(,)49 b Fg(i)8 b(n)g(t)51 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g
(g)g(e)47 b(\))38 b Fe(f)275 548 y Fg(i)12 b(f)54 b Ff(\()e(p)9
b(a)g(g)g(e)g(l)g(i)g(s)g(t)18 b([)d(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g
(a)g(g)g(e)19 b(])36 b(=)10 b(=)42 b(o)7 b(b)g(j)-5 b
Fe(\000)-11 b Fd(>)-5 b Ff(l)6 b(a)g(s)g(t)g(R)g(e)g(a)g(d)g(b)g(y)g(F)
g(a)h(u)g(l)f(t)47 b(+)35 b(1)9 b(\))340 614 y Fg(r)d(e)g(t)g(u)g(r)g
(n)37 b Ff(S)n(E)n(Q)n(U)n(E)n(N)n(T)n(I)n(A)n(L)9 b(;)269
681 y Fg(e)c(l)g(s)g(e)340 747 y(r)h(e)g(t)g(u)g(r)g(n)46
b(n)7 b(u)g(l)g(l)17 b Ff(;)195 814 y Fe(g)125 880 y(g)125
1005 y Fi(No)n(w)e(that)h(sequential)f(access)h(can)f(be)h(detected)f
(in)h(the)f(page)g(f)o(ault)h(handling)e(path,)h(we)h(can)g(b)n(uild)f
(a)h(more)f(aggressi)n(v)o(e)f(prefetch-)0 1104 y(ing)24
b(strate)o(gy)f(for)g(the)i(page)e(f)o(ault)h(path)f(by)h(redirecting)e
(this)j(disk)f(request)f(to)i(the)f(\002le)h(system)f(read)f(path.)36
b(This)25 b(functionality)d(is)0 1204 y(implemented)17
b(by)i(the)g(around)f(advice)g(in)i Fj(FFSa)o(g)o(gr)m(essiveP)-7
b(a)o(g)o(ePr)m(efetc)o(hP)g(olicy)15 b Fi(sho)n(wn)k(belo)n(w)-5
b(.)23 b(Here,)d(if)f(aggressi)n(v)o(e)f(prefetching)0
1303 y(is)g(deemed)e(to)i(be)f(w)o(arranted,)f(the)i(size)g(of)f(the)g
(read)g(request)g(is)h(doubled)d(and)i(serviced)g(by)f(f)n(fs)p
2772 1303 25 4 v 30 w(read,)h(where)g(further)e(asynchronous)0
1403 y(prefetching)j(may)i(be)g(applied.)128 1571 y Fg(a)t(s)t(p)t(e)t
(c)t(t)43 b Ff(F)6 b(F)g(S)g(a)g(g)g(g)g(r)g(e)g(s)g(s)g(i)g(v)g(e)g(P)
g(a)g(g)g(e)g(P)g(r)g(e)g(f)g(e)g(t)g(c)g(h)g(P)g(o)g(l)g(i)g(c)g(y)30
b Fe(f)196 1704 y Fg(a)r(r)r(o)r(u)r(n)r(d)10 b Ff(\()45
b(O)6 b(b)g(j)g(e)g(c)g(t)48 b(o)7 b(b)g(j)19 b(,)40
b(V)n(M)n(P)n(a)n(g)n(e)13 b([)h(])53 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g
(t)21 b(,)50 b Fg(i)8 b(n)g(t)15 b Fe(\003)37 b Ff(l)7
b(e)g(n)g(g)g(t)g(h)22 b(,)50 b Fg(i)8 b(n)g(t)50 b Ff(f)6
b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)52 b(\))14 b(:)553
1770 y(c)d(a)g(l)f(l)h(t)f(o)19 b(\()d(u)8 b(f)g(s)p
901 1770 18 4 v 39 w(r)g(e)g(a)g(d)g(w)g(r)g(i)g(t)g(e)22
b(.)17 b(f)7 b(f)g(s)p 1370 1770 V 37 w(g)g(e)g(t)g(p)g(a)g(g)g(e)g(s)
24 b(\()46 b(o)7 b(b)g(j)19 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21
b(,)49 b(l)7 b(e)g(n)g(g)g(t)g(h)22 b(,)48 b(f)6 b(a)g(u)g(l)g(t)g(e)g
(d)g(P)g(a)g(g)g(e)47 b(\))38 b Fe(f)275 1903 y Fg(i)12
b(f)54 b Ff(\()c(s)6 b(h)g(o)g(u)g(l)g(d)p 658 1903 V
37 w(a)g(g)g(g)g(r)g(e)g(s)g(s)g(i)g(v)g(e)g(l)g(y)p
1085 1903 V 40 w(p)g(a)g(g)g(e)p 1267 1903 V 36 w(a)g(h)g(e)g(a)g(d)21
b(\()46 b(o)7 b(b)g(j)19 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)21
b(,)49 b(l)7 b(e)g(n)g(g)g(t)g(h)22 b(,)47 b(f)6 b(a)g(u)g(l)g(t)g(e)g
(d)g(P)g(a)g(g)g(e)51 b(\))42 b(\))f Fe(f)342 2036 y
Fg(i)8 b(n)g(t)51 b Ff(s)7 b(i)g(z)g(e)44 b(=)f(l)7 b(e)g(n)g(g)g(t)g
(h)46 b Fe(\003)36 b Ff(2)10 b(;)341 2103 y(B)e(u)g(f)g(f)g(e)g(r)51
b(b)9 b(u)g(f)g(f)44 b(=)f(p)8 b(a)g(g)g(e)g(l)g(i)g(s)g(t)g(T)g(o)g(B)
g(u)g(f)g(f)14 b(\()j(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)19
b(\))12 b(;)342 2235 y(u)c(f)g(s)p 448 2235 V 39 w(r)g(e)g(a)g(d)g(w)g
(r)g(i)g(t)g(e)21 b(.)e(f)9 b(f)g(s)p 923 2235 V 39 w(r)g(e)g(a)g(d)21
b(\()42 b(v)s(p)16 b(,)50 b(b)9 b(u)g(f)g(f)20 b(,)48
b(b)6 b(l)g(o)g(c)g(k)21 b(,)49 b(s)7 b(i)g(z)g(e)51
b(\))13 b(;)264 2302 y Fe(g)269 2368 y Fg(e)5 b(l)g(s)g(e)338
2435 y(c)t(o)t(n)t(t)t(i)t(n)t(u)t(e)13 b Ff(;)195 2501
y Fe(g)125 2626 y Fi(The)28 b(predicate)g(used)g(to)h(determine)e(if)i
(aggressi)n(v)o(e)f(prefetching)e(is)k(w)o(arranted)d(is)j(sho)n(wn)e
(belo)n(w)-5 b(.)50 b(Objects)29 b(with)g(declared)0
2725 y(beha)n(viour)19 b(that)j(is)g Fj(sequential)e
Fi(automatically)g(qualify)-5 b(.)27 b(In)21 b(the)g(original)f
(implementation,)g Fj(normal)g Fi(objects)i(with)f(sequential)g(ac-)0
2825 y(cess)j(w)o(ould)e(also)g(qualify)-5 b(,)22 b(b)n(ut)h(we)g
(re\002ned)e(this)j(slightly)e(in)h(our)f(prototype)e(by)i(introducing)
e(a)k(minimum)d(threshold)g(number)g(of)0 2924 y(contiguous)g(pages.)34
b Fj(Normal)24 b Fi(objects)f(belo)n(w)g(this)h(threshold)e(do)h(not)g
(use)g(aggressi)n(v)o(e)f(prefetching,)g(and)h(thus)g(are)g(not)g
(forced)f(to)0 3024 y(w)o(ait)f(for)e(multiple)h(disk)g(reads.)197
3191 y Fg(c)s(o)s(n)s(s)s(t)48 b(i)8 b(n)g(t)43 b Ff(M)o(I)o(N)p
648 3191 V 18 w(P)o(A)o(G)o(E)o(S)p 863 3191 V 16 w(T)o(O)p
959 3191 V 17 w(A)o(G)o(G)o(R)o(E)o(S)o(S)o(I)o(V)o(E)o(L)o(Y)p
1418 3191 V 13 w(P)o(A)o(G)o(E)p 1590 3191 V 17 w(A)o(H)o(E)o(A)o(D)35
b(=)j(5)12 b(;)51 b(/)13 b(/)i(m)s(i)s(n)45 b(t)7 b(h)g(r)g(e)g(s)g(h)g
(o)g(l)g(d)198 3324 y(B)t(o)t(o)t(l)t(e)t(a)t(n)46 b(s)6
b(h)g(o)g(u)g(l)g(d)p 693 3324 V 37 w(a)g(g)g(g)g(r)g(e)g(s)g(s)g(i)g
(v)g(e)g(l)g(y)p 1120 3324 V 40 w(p)g(a)g(g)g(e)p 1302
3324 V 36 w(a)g(h)g(e)g(a)g(d)21 b(\()45 b(O)6 b(b)g(j)g(e)g(c)g(t)48
b(o)7 b(b)g(j)19 b(,)40 b(V)n(M)n(P)n(a)n(g)n(e)13 b([)h(])53
b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)18 b(,)1597 3391 y
Fg(i)8 b(n)g(t)52 b Ff(l)7 b(e)g(n)g(g)g(t)g(h)22 b(,)50
b Fg(i)8 b(n)g(t)50 b Ff(f)6 b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)47
b(\))38 b Fe(f)270 3457 y Fg(r)6 b(e)g(t)g(u)g(r)g(n)48
b Ff(\()14 b(\()49 b(D)5 b(e)g(c)g(l)g(a)g(r)g(e)g(d)g(B)g(e)h(h)f(a)h
(v)g(i)f(o)h(u)g(r)21 b(.)15 b(g)6 b(e)g(t)g(D)g(e)g(c)g(l)g(a)g(r)g(e)
g(d)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)15 b(\()f(o)7
b(b)g(j)16 b(\))35 b(=)9 b(=)33 b(S)n(E)n(Q)n(U)n(E)n(N)n(T)n(I)n(A)n
(L)43 b(\))h Fe(j)14 b(j)554 3524 y Ff(\()45 b(D)5 b(e)g(c)g(l)g(a)g(r)
g(e)g(d)g(B)g(e)h(h)f(a)h(v)g(i)f(o)h(u)g(r)21 b(.)14
b(g)5 b(e)g(t)g(P)g(a)g(g)g(e)g(B)g(e)g(h)g(a)g(v)g(i)g(o)g(u)g(r)15
b(\()46 b(o)7 b(b)g(j)19 b(,)50 b(p)9 b(a)g(g)g(e)g(l)g(i)g(s)g(t)18
b(,)1875 3590 y(l)7 b(e)g(n)g(g)g(t)g(h)23 b(,)47 b(f)6
b(a)g(u)g(l)g(t)g(e)g(d)g(P)g(a)g(g)g(e)15 b(\))27 b(&)5
b(&)624 3656 y(\()47 b(l)7 b(e)g(n)g(g)g(t)g(h)34 b Fd(>)t
Ff(=)24 b(M)o(I)o(N)p 1136 3656 V 18 w(P)o(A)o(G)o(E)o(S)p
1351 3656 V 16 w(T)o(O)p 1447 3656 V 17 w(A)o(G)o(G)o(R)o(E)o(S)o(S)o
(I)o(V)o(E)o(L)o(Y)p 1906 3656 V 14 w(P)o(A)o(G)o(E)p
2079 3656 V 16 w(A)o(H)o(E)o(A)o(D)41 b(\))14 b(\))g(\))h(;)195
3723 y Fe(g)195 3856 y(g)0 4161 y Fk(4)119 b(Ev)o(aluation)0
4346 y Fi(Although)24 b(we)j(are)f(only)f(in)h(the)g(initial)h(stages)g
(of)e(e)o(xperimentation,)g(we)h(ha)n(v)o(e)g(been)f(pleased)h(with)g
(our)f(e)o(xperience)f(of)i(coding)0 4446 y(prefetching)e(using)i
(AspectC.)g(W)-7 b(e)28 b(feel)e(that)g(the)h(aspect-oriented)d(code)h
(is)j(easier)e(to)h(understand,)e(and)h(in)g(particular)f(that)i(it)g
(is)0 4546 y(easier)20 b(to)h(understand)d(the)i(interaction)f(between)
g(the)h(dif)n(ferent)f(virtual)g(memory)g(and)h(\002le)g(system)h
(prefetching)d(mechanisms.)125 4645 y(In)g(one)f(test)j(of)e(whether)f
(the)i(AspectC)g(implementation)d(w)o(as)j(more)e(maintainable,)g(we)i
(de)n(v)o(eloped)d(a)j(mechanism)e(to)h(de)n(v)o(elop)0
4745 y(a)28 b(\223stride\224)f(access)g(pattern.)46 b(The)27
b(changes)f(required)f(to)j(do)e(so)i(were)f(straightforw)o(ard)e(and)h
(relati)n(v)o(ely)h(well)g(localized.)46 b(In)27 b(the)0
4844 y(Observ)o(edBeha)n(viour)g(aspect)k(we)g(added)e(a)i(ne)n(w)f
(\002eld)h(to)g(Object,)i(the)d(\002eld)h(holds)f(the)g(relati)n(v)o(e)
g(distance,)j(in)d(terms)h(of)f(page)0 4944 y(numbers,)22
b(between)h(successi)n(v)o(e)f(accesses.)35 b(Additional)22
b(advice)h(in)g(the)g(aspect)g(maintains)g(the)g(\002eld.)34
b(This)24 b(ne)n(w)f(form)f(of)h(access)0 5044 y(detection)c(is)i
(shared)f(between)f(the)h(virtual)g(memory)e(system)j(and)e(the)h
(\002le)h(system.)125 5143 y(When)h(pro)o(viding)f(the)i(lo)n(wer)f(le)
n(v)o(el)h(mechanism)f(to)h(support)f(this)h(pattern)f(of)h(disk)g
(access,)h(we)g(also)f(disco)o(v)o(ered)e(a)i(lingering)0
5243 y(b)n(ug)d(in)g(the)g(FreeBSD)h(v)o(ersion)e(3)h(code.)k(The)c
Fj(br)m(eadn)f Fi(function)g(only)g(w)o(orks)h(with)g
Fj(n)g(=)h(1)p Fi(.)1929 5589 y(6)p eop
%%Page: 7 7
7 6 bop 0 83 a Fk(5)119 b(Conclusions)0 269 y Fi(Our)25
b(prototype)e(implementation)g(of)i(prefetching)e(using)i(an)g
(aspect-oriented)e(approach)g(simpli\002es)j(page)f(f)o(ault)g
(handling)e(code)0 368 y(and)i(creates)h(a)g(better)f(conte)o(xt)f(in)i
(which)f(to)g(understand)f(the)h(data)h(and)f(algorithms)f(that)i
(implement)e(virtual)h(memory)f(and)h(\002le)0 468 y(system)20
b(prefetching.)125 567 y(Further)g(w)o(ork)i(is)h(needed)d(to)i(see)h
(whether)e(other)g(parts)h(of)f(the)h(operating)e(system)i(code)g(w)o
(ould)f(also)h(be)g(impro)o(v)o(ed)d(by)j(being)0 667
y(written)29 b(this)g(w)o(ay)-5 b(.)51 b(Based)30 b(on)f(this)g
(additional)f(e)o(xperimentation)e(we)j(need)f(to)i(mak)o(e)e(a)i
(decision)e(about)g(whether)g(to)h(actually)0 767 y(implement)19
b(AspectC)i(and)e(do)h(more)f(e)o(xtensi)n(v)o(e)g(e)o(xperimentation.)
125 866 y(At)28 b(the)f(w)o(orkshop)f(we)i(hope)f(to)g(be)h(able)g(to)f
(talk)h(with)g(other)f(groups)f(that)h(ha)n(v)o(e)g(re-engineered)e
(comple)o(x)h(softw)o(are)h(using)0 966 y(aspect-oriented)c(or)j(other)
f(separation)f(of)i(concerns)e(techniques.)40 b(W)-7
b(e)27 b(w)o(ant)f(to)f(share)h(our)f(e)o(xperiences)f(so)i(that)f(we)h
(can)g(better)0 1066 y(understand)18 b(the)i(strengths,)g(weaknesses)g
(and)f(applicability)g(of)h(this)h(technology)-5 b(.)0
1333 y Fk(Refer)n(ences)37 1501 y Fb([1])42 b(http://www)-5
b(.aspectj.or)o(g.)37 1626 y([2])42 b(http://www)-5 b
(.cs.ubc.ca/spider/ycoady/aspectc.html.)37 1750 y([3])42
b(Brian)28 b(Bershad,)j(Stef)o(an)d(Sa)o(v)n(age,)i(Przemysla)o(w)e(P)o
(ardyak,)j(Emin)d(Gun)h(Sirer)m(,)g(Da)o(vid)f(Beck)o(er)m(,)j(Marc)d
(Fiuczynski,)j(Craig)d(Chambers,)166 1842 y(and)e(Susan)f(Eggers.)48
b(Extensibility)-5 b(,)26 b(safety)g(and)g(performance)g(in)g(the)f
(SPIN)f(operating)i(system.)48 b(In)25 b Fa(Pr)m(oceedings)h(of)f(the)h
(15th)g(A)n(CM)166 1933 y(Symposium)20 b(on)f(Oper)o(ating)h(System)f
(Principles)g(\(SOSP-15\))p Fb(,)g(1996.)37 2058 y([4])42
b(Peter)23 b(Druschel.)44 b(Ef)n(\002cient)23 b(support)i(for)f
(incremental)h(customization)g(of)f(OS)g(services.)43
b(In)24 b Fa(Pr)m(oceedings)h(of)f(the)g(Thir)m(d)h(International)166
2149 y(W)-7 b(orkshop)21 b(on)e(Object)g(Orientation)g(in)g(Oper)o
(ating)h(Systems)p Fb(,)f(December)h(1993.)37 2273 y([5])42
b(Gre)o(gor)26 b(Kiczales.)47 b(T)-6 b(o)n(w)o(ards)26
b(a)g(ne)n(w)f(model)h(of)g(abstraction)g(in)f(softw)o(are)h
(engineering.)49 b(In)25 b Fa(Pr)m(oceedings)i(of)e(IMSA)m('92)h(W)-7
b(orkshop)27 b(on)166 2365 y(Re\003ection)19 b(and)h(Meta-le)o(vel)f
(Ar)m(c)o(hitectur)m(es)p Fb(,)h(1992.)37 2489 y([6])42
b(Gre)o(gor)24 b(Kiczales,)h(John)g(Lamping,)g(Anurag)g(Mendhekar)m(,)i
(Chris)c(Maeda,)j(Cristina)d(V)l(ideira)h(Lopes,)h(Jean-Marc)g
(Loingtier)m(,)f(and)h(John)166 2581 y(Irwin.)h(Aspect-oriented)20
b(programming.)29 b(In)19 b Fa(Eur)m(opean)h(Confer)m(ence)g(on)f
(Object-Oriented)h(Pr)m(o)o(gr)o(amming)f(\(ECOOP\))p
Fb(,)f(1997.)37 2705 y([7])42 b(L.L.)17 b(Lehman)j(and)f(L.A.)f(Belady)
-5 b(.)27 b(Program)20 b(e)n(v)o(olution.)27 b Fa(APIC)18
b(Studies)h(in)g(Data)g(Pr)m(ocessing)p Fb(,)g(\(27\),)g(1985.)37
2830 y([8])42 b(Cristina)22 b(V)l(ideira)f(Lopes)i(and)f(Gre)o(gor)h
(Kiczales.)37 b(Recent)22 b(de)n(v)o(elopments)i(in)e(aspectj.)38
b(In)22 b Fa(Eur)m(opean)h(Confer)m(ence)h(on)e(Object-Oriented)166
2921 y(Pr)m(o)o(gr)o(amming)e(\(ECOOP\))p Fb(,)d(1998.)37
3046 y([9])42 b(Christopher)15 b(Small)f(and)h(Mar)o(go)h(Seltzer)l(.)g
(A)f(comparison)h(of)f(OS)f(e)o(xtension)h(technologies.)k(In)c
Fa(Pr)m(oceedings)h(of)e(the)h(USENIX)f(Confer)m(ence)p
Fb(,)166 3137 y(1996.)0 3261 y([10])42 b(Alistair)20
b(C.)g(V)-8 b(eitch)21 b(and)h(Norman)f(C.)g(Hutchinson.)35
b(K)n(ea)21 b(-)g(a)g(dynamically)h(e)o(xtensible)g(and)g
(con\002gurable)g(operating)g(system)f(k)o(ernel.)35
b(In)166 3353 y Fa(Pr)m(oceedings)20 b(of)f(the)g(1996)h(Thir)m(d)f
(International)h(Confer)m(ence)g(on)g(Con\002gur)o(able)h(Distrib)o
(uted)d(Systems)h(\(ICCDS\))p Fb(,)f(1996.)0 3477 y([11])42
b(W)-6 b(erner)23 b(V)-10 b(ogels.)41 b(File)22 b(system)i(usage)g(in)f
(Windo)n(ws)h(NT)e(4.0.)41 b(In)23 b Fa(Pr)m(oceedings)h(of)f(the)g
(17th)h(A)n(CM)f(Symposium)h(on)g(Oper)o(ating)g(System)166
3569 y(Principles)19 b(\(SOSP\))p Fb(,)f(1999.)1929 5589
y Fi(7)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
